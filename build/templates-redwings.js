!function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/es-seat/es-seat.html",'<div class="item__i mobileHide"><div class="top"><div class="top__i"><table><tbody><tr><td><div class="text"><div class="iconBox" ng-click="vm.switchService()"><i class="icon_seat-reservation"></i></div><div class="name"><h2>{{ \'web.extraServices.seat.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.seat"><span class="infoBoxWrap"><i class="icon_info"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.serviceDesc\' | aliasStatic}}</span></span></span></a></h2><p>{{ \'web.extraServices.seat.desc\' | aliasStatic}}</p></div></div></td><td><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3><p>{{ \'web.extraServices.seat.minPriceUnit\' | aliasStatic}}</p></div></div></td><td><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" ng-class="{ active: vm.service.active, control_disabled: vm.locked }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.seat.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.seat.deselect\' | aliasStatic}}</span></a></td></tr></tbody></table></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="seatSelect"><div class="seatSelect__i"><table class="passengersTable"><tbody><tr class="headRow"><td class="firstCol"></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat-start="(flightNum, flight) in vm.orderInfo.plainFlights" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><geo-marker prefix="dep__point" key="es-seat" city="flight.origincity" cityname="flight.origincityName" port="flight.originport" portname="flight.originportName"></geo-marker><div class="route__plane"><i class="icon_plane"></i></div><geo-marker prefix="arr__point" key="es-seat" city="flight.destinationcity" cityname="flight.destinationcityName" port="flight.destinationport" portname="flight.destinationportName"></geo-marker></div></td><td ng-if="vm.service.unavailableBecauseOfCheckInBySegments[flightNum]" colspan="{{ vm.orderInfo.passengers.length }}"><div class="message_unavailableBecauseOfCheckIn"><span ng-if="vm.isBookingScreen" ng-bind-html="\'web.extraServices.seat.unavailableBecauseOfCheckIn.booking\' | aliasStatic"></span> <span ng-if="!vm.isBookingScreen" ng-bind-html="\'web.extraServices.seat.unavailableBecauseOfCheckIn.addServices\' | aliasStatic"></span></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="!vm.service.unavailableBecauseOfCheckInBySegments[flightNum]" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }"><wrap ng-if="vm.service.availableByPassengerSegments[passengerNum][flightNum]"><a href="" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum], passengersTable__link_select: (!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]">{{ vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].value }}</wrap></a> <span ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span> <a ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !vm.checkServiceRemovalProhibited(\'seat\', passengerNum, flightNum)" href="" ng-click="vm.removePassengerFlightSeat(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.seat.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a><div ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !vm.checkServiceRemovalProhibited(\'seat\', passengerNum, flightNum)" id="popupSeatMapConfirm-{{flightNum}}-{{passengerNum}}" style="display: none" class="popup popup_seatmap_confirm"><div class="title"><div class="title__i"><p>{{ \'web.popupSeatMapConfirm.title\' | aliasStatic}}</p></div></div><div class="popup__i"><div class="popup__seatmap-limitation-info" ng-bind-html="\'web.popupSeatMapConfirm.info\' | aliasStatic"></div><div class="popup__i__footer"><div class="popup__i__footer__buttons"><button class="js-seatmap-limitation-button btn popup__i__footer__buttons__button">{{ \'web.popupSeatMapConfirm.confirm\' | aliasStatic}}</button> <button class="js-seatmap-limitation-button-remove btn popup__i__footer__buttons__button" flightnum="{{flightNum}}" passengernum="{{passengerNum}}">{{ \'web.popupSeatMapConfirm.cancel\' | aliasStatic}}</button></div></div></div></div><a ng-if="!vm.checkServiceRemovalProhibited(\'seat\', passengerNum, flightNum)" style="display: none" href="" fancybox="popupSeatMapConfirm-{{flightNum}}-{{passengerNum}}" show-seat-confirm-popup="" class="popup_js" id="js-seatmap-limitation-open-popup-{{flightNum}}-{{passengerNum}}"></a><div ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil" class="passengersTable__reservedUntil"><span class="reservedUntil__label">{{ \'web.extraServices.seat.reservedUntil\' | aliasStatic}}</span> <span class="reservedUntil__value">{{vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil}}</span></div></wrap><wrap ng-if="!vm.service.availableByPassengerSegments[passengerNum][flightNum] && !passenger.hasSeats">{{ \'web.extraServices.seat.selectUnavailable\' | aliasStatic}}</wrap><wrap ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]">{{ \'web.extraServices.seat.issuedSeatLabel\' | aliasStatic}} <a href="" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link">{{ vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].value }}</a> <span ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span></wrap></td></tr><tr ng-repeat-end="" class="contentServiceRow"><td ng-if="flightNum == vm.selectedFlight" class="firstCol"></td><td ng-if="flightNum == vm.selectedFlight" colspan="{{ vm.orderInfo.passengers.length }}"><div class="col"><div class="info"><div class="info__i"><p class="sun">{{ vm.sunInfoByFlights[vm.selectedFlight] }}</p><div ng-if="!vm.loadingSeatMap && vm.seatMap" class="seatInfo"><ul><li class="free"><span></span> {{ \'web.extraServices.seat.free\' | aliasStatic}}</li><li class="selected"><span></span> {{ \'web.extraServices.seat.selected\' | aliasStatic}}</li><li class="selectedByOrderPassenger" ng-if="vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments) > 1"><span></span> {{ \'web.extraServices.seat.selectedByOrderPassenger\' | aliasStatic}}</li><li class="disabled"><span></span> {{ \'web.extraServices.seat.disabled\' | aliasStatic}}</li><li ng-if="vm.seatMap.hasAutoAssignedSeat && vm.seatMap.hasFreeAndAutoAssignedSeat" class="seat-auto-assigned"><span></span> {{ \'web.extraServices.seat.freeAndAutoAssignedSeat\' | aliasStatic}}</li><li ng-if="vm.seatMap.hasAutoAssignedSeat && !vm.seatMap.hasFreeAndAutoAssignedSeat" class="seat-auto-assigned"><span></span> {{ \'web.extraServices.seat.autoAssignedSeat\' | aliasStatic}}</li><li ng-repeat="svc in vm.seatMap.svcs track by $index" class="rfiscs-seat-label"><span class="color-marker seat-rfisc-{{ svc.rfisc }} seat-map-color-group-{{ svc.index }}"></span> <span class="rfiscs-seat-label-cost" ng-bind-html="{ value: svc.cost, currency: svc.currency } | price"></span> <span ng-if="\'extraServices.showSeatMapLegendTitleLabel\' | param" class="rfiscs-seat-label-title">{{ svc.title }}</span> <span ng-if="\'extraServices.showSeatMapLegendDescriptionLabel\' | param" class="rfiscs-seat-label-description" ng-bind-html="svc.description | aliasDynamic"></span></li><wrap ng-if="vm.hasAlias(\'web.extraServices.seat.customLabels\')" ng-bind-html="\'web.extraServices.seat.customLabels\' | aliasStatic"></wrap></ul></div></div></div></div><div ng-if="vm.loadingSeatMap" class="seat-map-loader" ng-bind-html="\'web.extraServices.seat.loader\' | aliasStatic"></div><div ng-if="vm.seatMapError" class="seat-map-error">{{ vm.seatMapError | aliasDynamic }}</div><div ng-if="vm.modifyError" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p ng-bind-html="vm.modifyError | aliasDynamic"></p></div></div><div ng-if="!vm.loadingSeatMap && vm.seatMap" id="seatMapCont" class="col mobileHide customScroll_height customScroll_js" custom-scroll=""><seat-map map="vm.seatMap" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" set="vm.setPassengerFlightSeat"></seat-map></div></td></tr></tbody></table><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.seat.cancel\' | aliasStatic}}</a></div></div></div></div></div></div><div class="item__i mobileShow"><div class="top"><div class="top__i"><a href=""><div class="row"><table><tbody><tr><td><i class="icon_seat"></i></td><td><div class="name">{{ \'web.extraServices.seat.header\' | aliasStatic}} <a href="" fancybox="popupAlias" data-popup-alias="web.extraServicesRules.seat"><i class="icon_info"></i></a></div></td></tr></tbody></table></div></a><div class="row"><a href=""><div ng-if="vm.service.active && vm.service.editablePrice" class="price"><div class="price__i"><h3 ng-bind-html="{ value: vm.service.editablePrice.price, currency: vm.service.editablePrice.currency } | price"></h3></div></div><div ng-if="!vm.service.active && vm.service.minPrice" class="price"><div class="price__i"><p>{{ \'web.extraServices.minPrice\' | aliasStatic}}</p><h3 ng-bind-html="{ value: vm.service.minPrice.price, currency: vm.service.minPrice.currency } | price"></h3><p>{{ \'web.extraServices.seat.minPriceUnit\' | aliasStatic}}</p></div></div></a> <a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" ng-class="{ active: vm.service.active }" class="btn showDrop_js"><span class="show">{{ \'web.extraServices.seat.select\' | aliasStatic}}</span> <span class="hide">{{ \'web.extraServices.seat.deselect\' | aliasStatic}}</span></a></div></div></div><div class="drop" ng-class="{ active: vm.service.active, show_js: vm.service.active }"><div class="drop__i"><div class="seatSelect drop_mobile"><div class="seatSelect__i"><div class="passengersContainer"><div class="passengersTableContainer" ng-class="{ one_passenger: vm.getAvailablePassengersCountWrap(vm.service.availableByPassengerSegments) == 1 }"><a href="" ng-click="vm.scrollToEnd();" class="passengersTableContainer__control passengersTableContainer__control_next" ng-class="{ control_disabled: !vm.canScrollRight }"></a><table class="passengersTable"><tbody><tr class="headRow"><td class="firstCol"><a href="" ng-click="vm.scrollToStart();" class="passengersTable__control passengersTable__control_prev" ng-class="{ control_disabled: !vm.canScrollLeft }"></a></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers">{{ passenger.lastName }} {{ passenger.firstName }}</td></tr><tr ng-repeat="(flightNum, flight) in vm.orderInfo.plainFlights" class="contentRow"><td class="firstCol"><div class="date">{{ flight.date | formatDate: \'D MMMM, dd\'}}</div><div class="route"><div class="route__dep"><span class="route__dep__city">{{ flight.originport || flight.origincity }}</span></div><div class="route__plane"><i class="icon_plane"></i></div><div class="route__arr"><span class="route__arr__city">{{ flight.destinationport || flight.destinationcity }}</span></div></div></td><td ng-if="vm.service.unavailableBecauseOfCheckInBySegments[flightNum]" colspan="{{ vm.orderInfo.passengers.length }}"><div class="message_unavailableBecauseOfCheckIn"><span ng-if="vm.isBookingScreen" ng-bind-html="\'web.extraServices.seat.unavailableBecauseOfCheckIn.booking\' | aliasStatic"></span> <span ng-if="!vm.isBookingScreen" ng-bind-html="\'web.extraServices.seat.unavailableBecauseOfCheckIn.addServices\' | aliasStatic"></span></div></td><td ng-repeat="(passengerNum, passenger) in vm.orderInfo.passengers" ng-if="!vm.service.unavailableBecauseOfCheckInBySegments[flightNum]" ng-class="{ active: vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum }"><wrap ng-if="vm.service.availableByPassengerSegments[passengerNum][flightNum]"><a href="" fancybox="popupSeat" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link" ng-class="{ passengersTable__link_empty: !vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum], passengersTable__link_select: (!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum) }"><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && (vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.selectItem\' | aliasStatic}}</wrap><wrap ng-if="!vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !(vm.selectedFlight == flightNum && vm.selectedPassenger == passengerNum)">{{ \'web.extraServices.seat.noneSelected\' | aliasStatic}}</wrap><wrap ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]">{{ vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].value }}</wrap></a> <span ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span> <a ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum] && !vm.checkServiceRemovalProhibited(\'seat\', passengerNum, flightNum)" href="" ng-click="vm.removePassengerFlightSeat(passengerNum, flightNum)" class="btn-remove"><span class="infoBoxWrap"><i class="icon_remove"></i> <span class="infoBox"><span class="infoBox__i">{{ \'web.extraServices.seat.cancelByPassengerSegment\' | aliasStatic }}</span></span></span></a><div ng-if="vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil" class="passengersTable__reservedUntil"><span class="reservedUntil__label">{{ \'web.extraServices.seat.reservedUntil\' | aliasStatic}}</span> <span class="reservedUntil__value">{{vm.service.selectedSeatsByPassengerSegments[passengerNum][flightNum].reservedUntil}}</span></div></wrap><wrap ng-if="!vm.service.availableByPassengerSegments[passengerNum][flightNum] && !passenger.hasSeats">{{ \'web.extraServices.seat.selectUnavailable\' | aliasStatic}}</wrap><wrap ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]">{{ \'web.extraServices.seat.issuedSeatLabel\' | aliasStatic}} <a href="" fancybox="popupSeat" ng-click="vm.selectFlightPassenger(flightNum, passengerNum)" class="passengersTable__link">{{ vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].value }}</a> <span ng-if="vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum]" class="passengersTable__priceSeat" ng-bind-html="{ value: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].totalPrice, currency: vm.service.issuedSeatsByPassengerSegments[passengerNum][flightNum].currency } | price"></span></wrap></td></tr></tbody></table></div><div class="passengersTable__cancel"><a href="" ng-click="vm.switchService()" ng-if="!vm.checkServiceRemovalProhibited(\'seat\')" class="passengersTable__link passengersTable__link_cancel">{{ \'web.extraServices.seat.cancel\' | aliasStatic}}</a></div></div></div></div></div></div><popup-seat map="vm.seatMap" sun="vm.sunInfoByFlights[vm.selectedFlight]" order="vm.orderInfo" passenger="vm.selectedPassenger" flight="vm.selectedFlight" locked="vm.locked" select-handler="vm.setPassengerFlightSeat" remove-handler="vm.removePassengerFlightSeat" selected="vm.service.selectedSeatsByPassengerSegments" issued="vm.service.issuedSeatsByPassengerSegments" items="vm.service.itemsByPassengerSegments" available-passengers-count="vm.getAvailablePassengersCount(vm.service.availableByPassengerSegments)" subgroups="vm.service.subgroups"></popup-seat></div>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/search-form/search-form.html",'<div class="searchParams active"><div class="wrap"><div ng-if="vm.searchResultError || vm.nearestDates" class="orderSearchError"><div class="orderSearchError__i"><p ng-if="!vm.nearestDates">{{ vm.searchResultError | aliasDynamic }}</p><wrap ng-if="vm.nearestDates"><p>{{ \'web.messages.nearestDates\' | aliasStatic}}</p><p ng-repeat="nearestDateSeg in vm.nearestDates"><geo-marker-wrapper prefix="dep__point" key="search-form" cityinfo="nearestDateSeg.segment.origin"></geo-marker-wrapper>–<geo-marker-wrapper prefix="arr__point" key="search-form" cityinfo="nearestDateSeg.segment.destination"></geo-marker-wrapper>{{ \' \' }} <a ng-if="nearestDateSeg.earlierMatching" ng-click="vm.selectNearestDate(nearestDateSeg.segId, nearestDateSeg.earlierMatching)">{{ nearestDateSeg.earlierMatching }}</a> {{ \' \' }}<wrap ng-if="nearestDateSeg.earlierMatching && nearestDateSeg.laterMatching">{{ \'web.messages.nearestDatesWrapper\' | aliasStatic}}</wrap>{{ \' \' }} <a ng-if="nearestDateSeg.laterMatching" ng-click="vm.selectNearestDate(nearestDateSeg.segId, nearestDateSeg.laterMatching)">{{ nearestDateSeg.laterMatching }}</a></p></wrap><wrap ng-if="\'search.enableSchedule\' | param"><p>{{ \'web.searchForm.scheduleInvitationBegin\' | aliasStatic}} {{ \' \' }}<geo-marker-wrapper prefix="dep__point" key="search-form" cityinfo="vm.originCity"></geo-marker-wrapper>–<geo-marker-wrapper prefix="arr__point" key="search-form" cityinfo="vm.destinationCity"></geo-marker-wrapper>{{ \' \' }} {{ \'web.searchForm.scheduleInvitationEnd\' | aliasStatic}} <a href="./schedule?origin-city-code={{ ::vm.originCity.codeEn }}&destination-city-code={{ ::vm.destinationCity.codeEn }}">{{ \'web.searchForm.scheduleInvitationLink\' | aliasStatic}}</a></p></wrap></div></div><div class="searchParams__i"><div class="info" ng-show="!vm.formOpened"><ul><li ng-show="vm.originCity && vm.destinationCity"><geo-marker-wrapper prefix="dep__point" key="search-form" cityinfo="vm.originCity"></geo-marker-wrapper>–<geo-marker-wrapper prefix="arr__point" key="search-form" cityinfo="vm.destinationCity"></geo-marker-wrapper></li><li ng-show="vm.segCount == 2">{{ \'web.searchForm.roundtrip\' | aliasStatic}}</li><li ng-show="vm.segCount == 1">{{ \'web.searchForm.oneway\' | aliasStatic}}</li><li>{{ vm.getDescPassCountStr() }}</li></ul></div></div><div class="orderSearchForm orderSearchForm_change" style="display: block;"><div class="orderSearchForm__i"><div class="formBody"><form name="vm.searchForm" form-submit-error-highlight="" novalidate="" class="formBody__i" method="post" autocomplete="off"><div class="formBodyItem"><div class="steps active"><div class="steps__i"><div class="item item_transfer"><div class="item__i"><city-picker role="origin" pickerindex="1" selected="vm.originCity" exclude="vm.destinationCity.codeEn" touched="vm.submitTouched" placeholder="{{ \'web.searchForm.originCity\' | aliasStatic}}"></city-picker><city-picker role="destination" pickerindex="2" selected="vm.destinationCity" depend="vm.originCity.codeEn" touched="vm.submitTouched" placeholder="{{ \'web.searchForm.destinationCity\' | aliasStatic}}"></city-picker><a href="" ng-click="vm.switchCities()" class="btnTransfer btnTransfer_js"><i class="icon_transfer"></i></a></div></div><div class="item item_date" id="calendarContainer"><div class="item__i"><div class="col"><div class="pikaday__header_mobile" ng-class="{ active: vm.pikadayThereOpen }"><i class="icon_plane"></i> <span>{{ \'web.searchForm.thereDate\' | aliasStatic}}</span> <a href="" class="pikaday__header_mobile_close" ng-click="vm.pikadayClose(\'there\')"></a></div><div class="inp"><div class="inp__i"><error-message control="vm.searchForm.thereDate" touched="vm.submitTouched"></error-message><input type="text" tabindex="3" placeholder="{{ \'web.searchForm.thereDate\' | aliasStatic}}" class="textInp calendarInp calendarInp_js" ng-class="{ textInp_error:(vm.submitTouched && vm.searchForm.thereDate.$invalid) }" pikaday="vm.pikadayThere" container="calendarContainer" number-of-months="{{ vm.viewMonthCount }}" on-open="vm.pikadayOpen(\'there\'); vm.pikadayThereOpen = true;" on-select="vm.pikadayThereSelectHandler()" on-close="vm.pikadayThereOpen = false" on-draw="vm.pikadayThereDraw()" name="thereDate" ng-model="vm.thereDate" id="book_from" readonly="" required=""> <a href="" class="calendarBtn calendarBtn_js"><i class="icon_calendar"></i></a></div></div></div><div class="col"><div class="pikaday__header_mobile" ng-class="{ active: vm.pikadayBackOpen }"><i class="icon_plane icon_plane_back"></i> <span>{{ \'web.searchForm.backDate\' | aliasStatic}}</span> <a href="" class="pikaday__header_mobile_close" ng-click="vm.pikadayClose(\'back\')"></a></div><div class="inp" ng-class="{ locked:vm.segCount != 2 }"><div class="inp__i"><a href="" class="locked-lnk" ng-click="vm.unlockBackDate()"></a> <input type="text" tabindex="4" placeholder="{{ \'web.searchForm.backDate\' | aliasStatic}}" class="textInp calendarInp calendarInp_js" pikaday="vm.pikadayBack" container="calendarContainer" number-of-months="{{ vm.viewMonthCount }}" on-open="vm.pikadayOpen(\'back\'); vm.pikadayBackOpen = true;" on-close="vm.pikadayBackOpen = false" on-draw="vm.pikadayBackDraw()" name="b ackDate" ng-model="vm.backDate" id="book_to" readonly=""> <a href="" class="calendarBtn calendarBtn_js"><i class="icon_calendar"></i></a></div></div></div></div></div><div class="item item_peoples"><div class="item__i"><div class="compactPeopleInfo compactShow"><a href="" class="compactDropShow compactDropShow_js" ng-click="vm.switchCompactPassCountOpened()"><input type="text" value="{{ vm.getTotalPassCountStr() }}" class="textInp" readonly=""><div class="arrowDown"><i class="icon_selectArr"></i></div></a></div><div class="compactDrop" ng-class="{ active:vm.compactPassCountOpened }"><pass-picker role="countBase" selected="vm.countBase" base="vm.basePassengerCategory"></pass-picker><a href="" ng-click="vm.showChildPickers = true;" ng-if="!vm.showChildPickers" class="link child-pickers-switch">{{ \'web.searchForm.showChildCounters\' | aliasStatic}}</a><pass-picker role="countRBG" selected="vm.countRBG" ng-class="{ hide_picker: !vm.showChildPickers }"></pass-picker><pass-picker role="countRMG" selected="vm.countRMG" ng-class="{ hide_picker: !vm.showChildPickers }"></pass-picker><pass-picker role="countRVG" selected="vm.countRVG" ng-class="{ hide_picker: !vm.showChildPickers }"></pass-picker></div></div></div><div class="item item_bonus" ng-if="(\'search.allowPromo\' | param) || (\'ffp.enable\' | param)"><div class="item__i"><div ng-if="(\'search.allowPromo\' | param) && !vm.ffp" class="bonusItem" ng-class="{ active:vm.promoActive }"><div class="coupon"><div class="coupon__i"><label for="couponInp" ng-click="vm.activatePromo()"><i class="icon_percent"></i>{{ \'web.searchForm.activatePromo\' | aliasStatic}}</label><error-message control="vm.searchForm.promoCode" touched="vm.submitTouched"></error-message><input type="text" id="couponInp" autocomplete="new-password" name="promoCode" ng-model="vm.promoCode" ng-pattern="\'search.promoCodeRegexp\' | param" error-highlight="{{ vm.submitTouched }}" class="textInp" placeholder="{{ \'web.searchForm.promoCode\' | aliasStatic}}"> <a href="" ng-click="vm.deactivatePromo()" tabindex="-1" class="clearInp clearInp_js"><i class="icon_remove"></i></a></div></div></div><div ng-if="(\'ffp.enable\' | param) && !vm.ffp" class="bonusItem" ng-class="{ active:vm.ffpActive }"><div class="mileCart"><div class="mileCart__i"><label for="mileCartInp" ng-click="vm.activateFFP()"><i class="icon_milesPay"></i>{{ \'web.searchForm.activateFFP\' | aliasStatic}}</label><div class="mileCartInpWrap"><error-message control="vm.searchForm.ffpCardNumber" touched="vm.submitTouched"></error-message><input type="text" class="textInp" id="mileCartInp" autocomplete="new-password" name="ffpCardNumber" ng-model="vm.ffpCardNumber" ng-pattern="\'ffp.cardNoRegex\' | param" error-highlight="{{ vm.submitTouched }}" ng-class="{ textInp_error: vm.ffpLoginError }" placeholder="{{ \'web.searchForm.ffpCardNumber\' | aliasStatic}}"> <a href="" ng-click="vm.deactivateFFP()" tabindex="-1" class="clearInp clearInp_js"><i class="icon_remove"></i></a></div><div class="mileCartInpWrap"><error-message control="vm.searchForm.ffpCardPassword" touched="vm.submitTouched"></error-message><input type="password" class="textInp" autocomplete="new-password" name="ffpCardPassword" ng-model="vm.ffpCardPassword" ng-pattern="\'ffp.passwordRegex\' | param" error-highlight="{{ vm.submitTouched }}" ng-class="{ textInp_error: vm.ffpLoginError }" placeholder="{{ \'web.searchForm.ffpCardPassword\' | aliasStatic}}"></div></div></div></div></div></div><button ng-click="vm.searchButtonClick()" class="btn btn_search btn_formSearch btn_formSearch_js">{{ \'web.searchForm.submit\' | aliasStatic}}</button></div></div></div></form></div></div></div><div ng-if="vm.ffpLoginError" class="orderSearchError"><div class="orderSearchError__i"><p>{{ \'web.messages.ffpLoginError.header\' | aliasStatic}}</p><p>{{ \'web.messages.ffpLoginError.start\' | aliasStatic}} <a href="" ng-click="vm.deactivateFFP(); vm.searchButtonClick();">{{ \'web.messages.ffpLoginError.link\' | aliasStatic}}</a> {{ \'web.messages.ffpLoginError.end\' | aliasStatic}}</p></div></div></div></div>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("components/seat-map/seat-map.html",'<div class="seatMap" ng-class="{ control_disabled: vm.locked }"><div class="seatMap__i"><div ng-repeat="deck in vm.seatMap.decks" class="planeBody deck-code-{{deck.code}}"><div ng-if="deck.code" class="deck-label deck-label-{{deck.code}}" ng-bind-html="\'web.seatMap.deckLabel.\' | aliasWithPrefix:deck.code"></div><div class="planeBody__i"><table ng-repeat="cabin in deck.cabins" class="cabin-code-{{cabin.code}}"><tbody><tr class="colNameRow"><td ng-repeat="col in cabin.colNames track by $index"><wrap ng-if="col">{{ col }}</wrap></td></tr><tr ng-repeat="row in cabin.rows" class="row-number-{{row.number}} {{ vm.getRowSeatsUniqueCssPropertiesClasses(row.chairs) }}" ng-class="{ wingsStart: row.wingsStart, atWing: row.atWing, wingsEnd: row.wingsEnd }"><td ng-repeat="item in row.items"><div ng-if="item.type == \'chair\'" class="seat seat-cost-{{ vm.replaceDots(item.cost || \'none\') }} seat-rfisc-{{ item.rfisc || \'none\' }} seat-map-color-group-{{ item.rfiscIndex != undefined ? item.rfiscIndex : \'none\' }} {{ vm.getSeatCssPropertiesClasses(item) }}" selected-flight="{{vm.selectedFlight}}" selected-passenger="{{vm.selectedPassenger}}" ng-click="vm.setPassengerFlightSeat(item, cabin.allowed, row.number)" ng-class="{ seat_disabled: (!item.available || !cabin.allowed), active: vm.isSelectedByActivePassenger(row.number + item.number), selectedByOrderPassenger: vm.isSelectedByOrderPassenger(row.number + item.number), \'seat-auto-assigned\': item.autoAssigned, \'js-seat-not-for-all\': (item.properties.indexOf(\'not_for_child\') > -1 || item.properties.indexOf(\'not_for_infant\') > -1 || item.properties.indexOf(\'comfortable\') > -1 || item.rfisc === \'0B5\')}"><div ng-if="item.available && cabin.allowed" class="seatName"><span class="seatName__price">{{ row.number }}{{ item.number }}<wrap ng-if="item.cost">{{\' - \'}}<wrap ng-bind-html="{ value: item.cost, currency: item.currency } | price"></wrap></wrap></span><div ng-if="item.properties.indexOf(\'comfortable\') > -1 || item.properties.indexOf(\'not_for_infant\') > -1 || item.rfisc === \'0B5\'" class="seat-info-not_for_anybody"><wrap ng-bind-html="\'web.seatMap.not_for_anybody\' | aliasStatic"></wrap></div></div></div></td></tr></tbody></table></div></div></div></div>')}])}(),function(e){try{e=angular.module("app")}catch(s){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("screens/passengers/passengers.html",'<app-loader ng-if="vm.loading"></app-loader><section class="out" ng-if="!vm.loading"><app-header></app-header><div class="searchSteps"><div class="wrap"><div class="searchSteps__i"><ol><li class="prev"><a href="{{ \'web.site.firstStepUrl\' | aliasStatic }}">{{ \'web.steps.search\' | aliasStatic}}</a></li><li class="prev"><a href="#{{$root.ROUTES.SEARCH}}">{{ \'web.steps.selectVariant\' | aliasStatic}}</a></li><li class="active">{{ (vm.passengers.length == 1) ? ( \'web.steps.passenger\' | aliasStatic) : ( \'web.steps.passengers\' | aliasStatic) }}</li><li>{{ \'web.steps.extraServices\' | aliasStatic}}</li><li>{{ \'web.steps.payment\' | aliasStatic}}</li><li>{{ \'web.steps.order\' | aliasStatic}}</li><li>{{ \'web.steps.extraServices\' | aliasStatic}}</li><li>{{ \'web.steps.payment\' | aliasStatic}}</li><li>{{ \'web.steps.order\' | aliasStatic}}</li></ol></div></div></div><div ng-if="vm.orderInfo && vm.passengersCheck" class="searchParams searchParams_passengers"><div class="wrap"><div class="searchParams__i"><div class="info"><ul><li><geo-marker prefix="dep__point" key="passengers" city="vm.orderInfo.flights[0].flights[0].origincity" cityname="vm.orderInfo.flights[0].flights[0].origincityName" port="vm.orderInfo.flights[0].flights[0].originport" portname="vm.orderInfo.flights[0].flights[0].originportName"></geo-marker>–<geo-marker prefix="arr__point" key="passengers" city="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationcity" cityname="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationcityName" port="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationport" portname="vm.orderInfo.flights[0].flights[vm.orderInfo.flights[0].flights.length-1].destinationportName"></geo-marker></li><li ng-show="vm.orderInfo.flights.length == 2">{{ \'web.searchForm.roundtrip\' | aliasStatic}}</li><li ng-show="vm.orderInfo.flights.length == 1">{{ \'web.searchForm.oneway\' | aliasStatic}}</li><li>{{ vm.getDescPassCountStr() }}</li></ul></div></div></div></div><div class="content"><div class="wrap wrap_pt32"><div class="content__i"><div class="passengersInfo"><div class="passengersInfo__i"><h2>{{ (vm.passengers.length == 1) ? ( \'web.passengerInfo.header\' | aliasStatic) : ( \'web.passengersInfo.header\' | aliasStatic) }}</h2><p ng-if="vm.passengersCheck.isLatinNamesOnly && !(\'site.foreignSite\' | param)" class="intAttention">{{ \'web.messages.passNamesLabel\' | aliasStatic}} <span ng-bind-html="\'web.messages.passNamesLatin\' | aliasStatic"></span></p><p class="login" ng-if="!vm.authoriseCustomer && !vm.accountExist">{{ \'web.passengersInfo.loginInvitationMessage\' | aliasStatic}} <a href="" fancybox="popupLogin">{{ \'web.passengersInfo.loginInvitationLink\' | aliasStatic}}</a></p><form class="passengerForm__js {{ vm.getOrderCountriesCssClasses() }}" ng-repeat="(passengerNumber, passenger) in vm.passengers" name="vm.passengerForms[{{passengerNumber}}]" form-submit-error-highlight="" novalidate=""><input type="hidden" name="categoryCode" ng-model="passenger.categoryCode"><div class="item"><div class="item__i"><div class="itemName"><div class="itemName__number"><span ng-show="vm.passengers.length > 1">{{ passengerNumber + 1 }}.</span> {{ \'web.passengerCategory.\' | aliasWithPrefix:passenger.categoryCode }}</div><div class="selectWrap itemName__ui-select" ng-if="vm.authoriseCustomer && vm.privatePassengers.length"><ui-select name="privatePassenger" search-enabled="false" ng-model="passenger.privatePassenger" theme="selectize" ui-select-custom="" ng-change="vm.setPrivatePassenger(passengerNumber)" class="ui-select-passengers-header"><ui-select-match placeholder="{{(vm.currentLanguage !== \'ru\' && $select.selected.value.firstNameEn ? $select.selected.value.firstNameEn : $select.selected.value.firstName) || ( \'web.passengersInfo.privatePassengerSelect\' | aliasStatic)}} {{vm.currentLanguage !== \'ru\' && $select.selected.value.lastNameEn ? $select.selected.value.lastNameEn : $select.selected.value.lastName}}">{{vm.currentLanguage !== \'ru\' && $select.selected.value.firstNameEn ? $select.selected.value.firstNameEn : $select.selected.value.firstName}} {{vm.currentLanguage !== \'ru\' && $select.selected.value.lastNameEn ? $select.selected.value.lastNameEn : $select.selected.value.lastName}}</ui-select-match><ui-select-choices repeat="privatePassenger.num as (num, privatePassenger) in vm.privatePassengers"><div class="ui-select-passengers-data">{{ vm.currentLanguage !== \'ru\' && privatePassenger.value.firstNameEn ? privatePassenger.value.firstNameEn : privatePassenger.value.firstName }} {{ vm.currentLanguage !== \'ru\' && privatePassenger.value.lastNameEn ? privatePassenger.value.lastNameEn : privatePassenger.value.lastName }}</div><div class="ui-select-passengers-birth">{{ privatePassenger.value.dateOfBirth }}</div></ui-select-choices></ui-select></div></div><table class="passengerInfo"><tbody><tr><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].lastName" touched="vm.submitTouched"></error-message><input type="text" name="lastName" autocomplete="off" ng-model="passenger.lastName" ng-blur="vm.lastNameBlurHandler(passengerNumber)" uppercase-by-input="" prevent-browser-suggestions="" required="" ng-pattern="vm.passengersCheck.passengerLastNameRegexp" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.lastName\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].firstName" touched="vm.submitTouched"></error-message><input type="text" name="firstName" autocomplete="off" ng-model="passenger.firstName" ng-blur="vm.firstNameBlurHandler(passengerNumber)" uppercase-by-input="" prevent-browser-suggestions="" required="" ng-pattern="vm.passengersCheck.passengerFirstNameRegexp" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.firstName\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].dateOfBirth" touched="vm.submitTouched"></error-message><input type="text" name="dateOfBirth" autocomplete="off" ng-model="passenger.dateOfBirth" required="" check-date-format="" check-date-range="" data-min-date="{{ vm.rangeBirthByPassenger[passengerNumber].from }}" data-max-date="{{ vm.rangeBirthByPassenger[passengerNumber].to }}" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}" placeholder="{{ \'web.passengersInfo.dateOfBirth\' | aliasStatic}}" prevent-browser-suggestions="" ui-mask="99.99.9999" model-view-value="true" ui-mask-placeholder="{{ \'web.datePattern\' | aliasStatic}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.dateOfBirth\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].gender" touched="vm.submitTouched"></error-message><ui-select ng-model="passenger.gender" theme="selectize" name="gender" search-enabled="false" error-highlight="{{vm.submitTouched}}" ui-select-custom="" class="ui-select-custom ui-select-passengers" required=""><ui-select-match placeholder="{{$select.selected.name || ( \'web.privatePassengers.gender\' | aliasStatic) }}">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="gender.code as gender in vm.passangersAlias"><div ng-bind-html="gender.name"></div></ui-select-choices></ui-select><label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.gender\' | aliasStatic}}</span></label></div></td></tr><tr><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].nationality" touched="vm.submitTouched"></error-message><ui-select ng-model="passenger.nationality" theme="selectize" name="nationality" search-enabled="{{ !vm.isMobile }}" skip-focusser="true" ng-change="vm.nationalityChangeHandler(passengerNumber)" error-highlight="{{vm.submitTouched}}" ui-select-custom="" class="ui-select-custom ui-select-passengers" required=""><ui-select-match placeholder="{{$select.selected[vm.localNamePropName] || ( \'web.privatePassengers.nationality\' | aliasStatic) }}">{{$select.selected[vm.localNamePropName]}}</ui-select-match><ui-select-choices repeat="country.code as country in vm.countriesList | filter: {[vm.localNamePropName]: $select.search} track by country.code"><div ng-bind-html="country[vm.localNamePropName]"></div></ui-select-choices></ui-select><label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.nationality\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].documentType" touched="vm.submitTouched"></error-message><ui-select ng-model="passenger.documentType" name="documentType" theme="selectize" search-enabled="false" ng-change="vm.documentTypeChangeHandler(passengerNumber)" class="ui-select-custom ui-select-passengers" ui-select-custom="" error-highlight="{{vm.submitTouched}}" required=""><ui-select-match placeholder="{{$select.selected.name || ( \'web.passengersInfo.documentType\' | aliasStatic) }}">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="doc.code as doc in vm.documentTypesByPassenger[passengerNumber]"><div class="{{ \'documentTypeOption_\' + doc.code }}" ng-bind-html="doc.name"></div></ui-select-choices></ui-select><label class="inp-animate-label"><span>{{ \'web.passengersInfo.label.documentType\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.passengerForms[passengerNumber].documentNumber" touched="vm.submitTouched"></error-message><info-message ng-if="passenger.documentType && vm.hasAlias(\'web.messages.formatDocumentNumber.\' + passenger.documentType)" touched="vm.submitTouched" control="vm.passengerForms[passengerNumber].documentNumber" format-alias="\'web.messages.formatDocumentNumber.\' + passenger.documentType"></info-message><input type="text" name="documentNumber" autocomplete="off" ng-model="passenger.documentNumber" required="" clean-document-number="" ng-pattern="vm.documentNumberRegexByPassenger[passengerNumber]" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.documentNumber\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer" ng-if="vm.getExpiryByDocType(passenger.documentType, passenger.categoryCode)"><error-message control="vm.passengerForms[passengerNumber].documentDate" touched="vm.submitTouched"></error-message><input type="text" name="documentDate" autocomplete="off" ng-model="passenger.documentDate" required="" check-date-format="" check-date-range="" data-min-date="{{ vm.getExpiryByDocType(passenger.documentType, passenger.categoryCode) }}" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}" ui-mask="99.99.9999" model-view-value="true" ui-mask-placeholder="{{ \'web.datePattern\' | aliasStatic}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.documentDate\' | aliasStatic}}</span></label></div></td></tr><tr ng-if="(passenger.categoryCode == \'AAA\' || passenger.categoryCode == \'CPA\' || passenger.categoryCode == \'MLA\') && (vm.passengersCheck.allowEmail || vm.passengersCheck.allowPhone)"><td><div class="inp inp-animate-outer" ng-if="vm.passengersCheck.allowPhone"><error-message control="vm.passengerForms[passengerNumber].phone" format-alias="\'web.messages.formatPhone\'" touched="vm.submitTouched"></error-message><input type="tel" name="phone" autocomplete="off" ng-model="passenger.phone" ng-blur="vm.phoneBlurHandler(passengerNumber)" phone-mask="" ng-required="vm.passengersCheck.requirePhone" ng-pattern="\'customer.phoneRegexp\' | param" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}" placeholder=""> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.phone\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer" ng-if="vm.passengersCheck.allowEmail"><error-message control="vm.passengerForms[passengerNumber].email" touched="vm.submitTouched"></error-message><input type="email" name="email" autocomplete="off" ng-model="passenger.email" ng-blur="vm.emailBlurHandler(passengerNumber)" ng-required="vm.passengersCheck.requireEmail" ng-pattern="vm.passengersCheck.emailRegex" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.email\' | aliasStatic}}</span></label></div></td><td class="mobileHide"></td><td class="mobileHide"></td></tr><tr ng-if="(passenger.categoryCode == \'AAA\' || passenger.categoryCode == \'CPA\' || passenger.categoryCode == \'MLA\') && vm.allowBonusCard"><td><div class="inp"><div class="customCheckbox"><label><input class="haveCart_js" type="checkbox" name="hasBonusCard" ng-model="passenger.hasBonusCard" ng-change="passenger.bonusCard = \'\';"><span></span> {{ \'web.passengersInfo.hasBonusCard\' | aliasStatic}}</label></div></div></td><td><div class="inp inp-animate-outer" ng-class="{ invisibleBonusCard: !passenger.hasBonusCard, visibleBonusCard: passenger.hasBonusCard }"><error-message control="vm.passengerForms[passengerNumber].bonusCard" touched="vm.submitTouched"></error-message><input type="text" class="inp-animate-placeholder" name="bonusCard" autocomplete="off" ng-model="passenger.bonusCard" ng-pattern="\'passengers.bonusCardRegex\' | param" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.passengersInfo.bonusCard\' | aliasStatic}}</span></label></div></td><td class="mobileHide"></td><td class="mobileHide"></td></tr><tr ng-if="vm.groupedSpecialNeedSsrs.length && passenger.type != \'INFANT\'"><td colspan="4"><a href="" class="link" ng-click="vm.switchSpecialNeed(passengerNumber)"><span ng-if="!passenger.hasSpecialNeed">{{ \'web.passengersInfo.specialNeed.select\' | aliasStatic }}</span> <span ng-if="passenger.hasSpecialNeed">{{ \'web.passengersInfo.specialNeed.deselect\' | aliasStatic }}</span></a></td></tr><tr><td colspan="4"><div class="special-need-list" ng-if="passenger.hasSpecialNeed"><div class="special-need-list__item" ng-repeat="item in vm.groupedSpecialNeedSsrs track by $index"><div ng-if="item.ssrs.length == 1" class="inp"><div class="customCheckbox"><label><input type="checkbox" name="specialNeedSsrs" ng-model="passenger.specialNeedSsrs[item.ssrs[0]]"> <span></span> {{ \'web.passengersInfo.specialNeed.ssr.\' | aliasWithPrefix:item.ssrs[0] }}</label></div></div><div ng-if="item.ssrs.length > 1" class="special-need-list__group"><div class="customCheckbox"><label><input type="checkbox" name="specialNeedGroup" ng-change="vm.specialNeedGroupChangeHandler(passengerNumber, item.group)" ng-model="passenger.specialNeedGroup[item.group]"> <span></span> {{ \'web.passengersInfo.specialNeed.group.\' | aliasWithPrefix:item.group }}</label></div><div ng-class="{ \'special-need-list__group-items_active\': passenger.specialNeedGroup[item.group] }" class="special-need-list__group-items"><div ng-repeat="ssr in item.ssrs track by $index" class="inp"><div class="radioBtn"><label><input type="radio" ng-model="passenger.specialNeedGroupSsrs[item.group]" ng-value="ssr"> <span></span> {{ \'web.passengersInfo.specialNeed.ssr.\' | aliasWithPrefix:ssr }}</label></div></div></div></div></div></div></td></tr></tbody></table></div></div></form><form ng-if="vm.orderInfo && vm.passengersCheck" name="vm.customerForm" class="customerForm__js" form-submit-error-highlight="" novalidate=""><div class="item item_contact"><div class="item__i"><h3 class="itemName">{{ \'web.passengersInfo.customerHeader\' | aliasStatic}}</h3><table><tbody><tr><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.lastName" touched="vm.submitTouched"></error-message><input type="text" name="lastName" autocomplete="off" ng-model="vm.customer.lastName" required="" ng-pattern="\'customer.lastNameRegexp\' | param" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.lastName\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.firstName" touched="vm.submitTouched"></error-message><input type="text" name="firstName" autocomplete="off" ng-model="vm.customer.firstName" required="" ng-pattern="\'customer.firstNameRegexp\' | param" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.firstName\' | aliasStatic}}</span></label></div></td></tr><tr><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.phone" format-alias="\'web.messages.formatPhone\'" touched="vm.submitTouched"></error-message><input type="tel" name="phone" autocomplete="off" ng-model="vm.customer.phone" phone-mask="" ng-pattern="\'customer.phoneRegexp\' | param" required="" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.phone\' | aliasStatic}}</span></label></div></td><td><div class="inp inp-animate-outer"><error-message control="vm.customerForm.email" touched="vm.submitTouched"></error-message><input type="email" name="email" autocomplete="off" ng-model="vm.customer.email" required="" ng-pattern="\'site.emailRegexp\' | param" ng-change="vm.checkLogin()" class="textInp inp-animate-placeholder" error-highlight="{{vm.submitTouched}}"> <label class="inp-animate-label"><span>{{ \'web.customerInfo.email\' | aliasStatic}}</span></label></div></td></tr><tr ng-if="(\'customer.showIsSmsSend\' | param) || (\'customer.showIsEmailSend\' | param)"><td><div class="inp" ng-if="\'customer.showIsSmsSend\' | param"><div class="customCheckbox"><label><input type="checkbox" ng-model="vm.customer.sendSms"> <span></span> {{ \'web.customerInfo.sendSms\' | aliasStatic}}</label></div></div></td><td><div class="inp" ng-if="\'customer.showIsEmailSend\' | param"><div class="customCheckbox"><label><input type="checkbox" ng-model="vm.customer.sendEMail"> <span></span> {{ \'web.customerInfo.sendEMail\' | aliasStatic}}</label></div></div></td></tr><tr ng-if="!vm.authoriseCustomer && vm.allowCreateAccount && vm.customer.createAccount"><td><div class="inp"><error-message control="vm.customerForm.password" touched="vm.submitTouched"></error-message><input type="password" name="password" autocomplete="off" ng-model="vm.customer.password" required="" ng-pattern="\'site.passwordRegexp\' | param" check-equals="{{ vm.customer.passwordRepeat }}" class="textInp" error-highlight="{{vm.submitTouched}}" tabindex="1000" placeholder="{{ \'web.customerInfo.password\' | aliasStatic}}"></div></td><td><div class="inp"><error-message control="vm.customerForm.passwordRepeat" touched="vm.submitTouched"></error-message><input type="password" name="passwordRepeat" autocomplete="off" ng-model="vm.customer.passwordRepeat" required="" ng-pattern="\'site.passwordRegexp\' | param" check-equals="{{ vm.customer.password }}" class="textInp" error-highlight="{{vm.submitTouched}}" tabindex="1001" placeholder="{{ \'web.customerInfo.passwordRepeat\' | aliasStatic}}"></div></td></tr><tr><td colspan="2"><div class="inp" ng-if="!vm.authoriseCustomer && vm.allowCreateAccount"><div class="customCheckbox"><label><input type="checkbox" ng-model="vm.customer.createAccount"> <span></span> {{ \'web.passengersInfo.createAccountInvitationMessage\' | aliasStatic}}</label></div></div></td></tr></tbody></table></div></div></form><p class="login" ng-if="!vm.authoriseCustomer && vm.accountExist">{{ \'web.passengersInfo.accountExistMessage\' | aliasStatic}} {{ vm.customer.email }} <a href="" fancybox="popupLogin" data-login="{{ vm.customer.email }}">{{ \'web.passengersInfo.loginInvitationLink\' | aliasStatic}}</a></p><div ng-if="vm.errorMessage" class="infoMessage infoMessage_error"><div class="infoMessage__i"><p>{{ vm.errorMessage | aliasDynamic }}</p></div></div><div ng-if="\'passengers.usePersonalDataAgreeCheckbox\' | param" class="iconfirm"><div class="iconfirm__i"><div class="customCheckbox"><label><input type="checkbox" id="personalDataShareAgreeChb" ng-model="vm.personalDataShareAgree"><span></span></label></div><p><label for="personalDataShareAgreeChb"><wrap ng-bind-html="\'web.personalDataShareAgree\' | aliasStatic"></wrap></label></p></div></div><div class="passengers-form-footer" ng-bind-html="\'web.passengersInfo.footer\' | aliasStatic"></div></div></div><div class="searchResultsControl"><div class="searchResultsControl__i"><a href="#{{$root.ROUTES.SEARCH}}" class="btn btn_back">{{ \'web.buttons.back\' | aliasDynamic }}</a> <a href="" ng-click="vm.submitHandler()" class="btn btn_next" ng-class="{ disabled: (!vm.personalDataShareAgree && (\'passengers.usePersonalDataAgreeCheckbox\' | param)) }" ng-if="!vm.submitLoading"><span class="mobileHide">{{ \'web.buttons.gotoExtraServices\' | aliasStatic}}</span> <span class="mobileShow">{{ \'web.buttons.next\' | aliasStatic}}</span></a> <a href="" class="btn btn_next disabled loading-start" ng-if="vm.submitLoading"><span class="loader"><img alt="" src="themes/websky/assets/static/img/general/form/loader-circle-64.gif"></span> <span class="mobileHide">{{ \'web.buttons.gotoExtraServices\' | aliasStatic}}</span> <span class="mobileShow">{{ \'web.buttons.next\' | aliasStatic}}</span></a></div></div></div></div></div><div class="push"></div></section><app-footer ng-if="!vm.loading"></app-footer>');
}])}();